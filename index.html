<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>P2 Dent Repair â€” Broken Arrow, OK</title>
<meta name="description" content="P2 Dent Repair â€” Paintless Dent Repair, hail damage, and more. Call +1 (918) 639-5802" />
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  :root{
    --accent:#0b6b9a; /* primary blue-teal */
    --accent-contrast:#ffffff;
    --muted:#6b7280;
    --bg:#ffffff;
    --card:#f8fafc;
    --max-width:1100px;
    --radius:12px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:var(--bg);
    color:#111827;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }
  .container{max-width:var(--max-width);margin:20px auto;padding:18px;}
  header{
    display:flex;align-items:center;gap:16px;justify-content:space-between;
    background:linear-gradient(90deg,var(--accent) 0%, #0f7fb0 100%);
    color:var(--accent-contrast);
    padding:18px;border-radius:var(--radius);
  }
  .brand{display:flex;gap:14px;align-items:center}
  .logo{
    width:72px;height:72px;border-radius:10px;background:rgba(255,255,255,0.12);
    display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;
  }
  h1{margin:0;font-size:20px;letter-spacing:0.2px;}
  .contact-top{
    text-align:right;
    font-weight:600;
  }
  .call{
    display:inline-flex;align-items:center;gap:8px;background:var(--accent-contrast);color:var(--accent);
    padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:700;
  }
  .call small{display:block;font-size:11px;color:var(--muted);font-weight:600}
  main{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:18px}
  @media (max-width:980px){ main{grid-template-columns:1fr} .contact-top{text-align:left}}
  .card{background:var(--card);padding:16px;border-radius:10px;box-shadow:0 6px 18px rgba(2,6,23,0.06)}
  .map iframe{width:100%;height:320px;border:0;border-radius:8px}
  .photos{display:flex;gap:8px;flex-wrap:wrap}
  .photos img{width:calc(33% - 6px);border-radius:8px;object-fit:cover;height:110px;background:#e6eef6}
  .services{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
  .service{background:white;padding:10px;border-radius:8px;border:1px solid rgba(16,24,40,0.04);font-weight:600}
  .hours{margin-top:10px;color:var(--muted);font-size:14px}
  .reviews-list{display:flex;flex-direction:column;gap:8px}
  .review{padding:12px;border-radius:8px;background:white;border:1px solid rgba(16,24,40,0.04);display:flex;gap:12px;align-items:flex-start}
  .review .avatar{width:44px;height:44px;border-radius:8px;background:linear-gradient(90deg,#e6f2fb,#f6fbff);display:flex;align-items:center;justify-content:center;font-weight:700}
  .review .meta{flex:1}
  .stars{display:flex;gap:4px;color:#f5a623}
  .review .name{font-weight:700}
  .review p{margin:6px 0 0;color:#111827}
  .show-more{display:block;margin:10px auto;padding:10px 14px;border-radius:8px;background:var(--accent);color:var(--accent-contrast);border:none;font-weight:700;cursor:pointer}
  .contact-form label{display:block;font-weight:700;margin-top:8px}
  .contact-form input,.contact-form textarea{width:100%;padding:10px;margin-top:6px;border-radius:8px;border:1px solid #e6eef6;background:white}
  .contact-form button{margin-top:10px;padding:10px 14px;border-radius:8px;background:var(--accent);color:var(--accent-contrast);border:none;font-weight:700;cursor:pointer}
  footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}
  .badge{font-size:12px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.12);font-weight:700}
  /* small compressed review body display */
  .review .body-empty{color:var(--muted);font-style:italic}
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">P2<br>Dent</div>
        <div>
          <h1>P2 Dent Repair</h1>
          <div style="font-size:13px;color:rgba(255,255,255,0.95)">E Louisville St, Broken Arrow, OK 74012</div>
        </div>
      </div>

      <div class="contact-top">
        <a class="call" href="tel:+19186395802" aria-label="Call P2 Dent Repair">
          ðŸ“ž +1 (918) 639-5802
          <small>Tap to call</small>
        </a>
        <div style="height:8px"></div>
        <span class="badge">Monâ€“Fri: 8 AMâ€“5 PM</span>
      </div>
    </header>

    <main>
      <section>
        <!-- Hero / Map -->
        <div class="card map">
          <!-- Embedded Google Maps iframe (uses the URL you provided). Replace if you prefer an 'embed' pb URL -->
          <iframe
            title="P2 Dent Repair map"
            src="https://www.google.com/maps/place/P2+Dent+Repair/@35.6602676,-97.4008186,9z/data=!4m15!1m7!3m6!1s0x87b68bd3ec6db5ef:0x3393e19eef953486!2sP2+Dent+Repair!8m2!3d36.0438091!4d-95.7763042!16s%2Fg%2F11ssvjlny5!3m6!1s0x87b68bd3ec6db5ef:0x3393e19eef953486!8m2!3d36.0438091!4d-95.7763042!15sCiNhdXRvIHJlcGFpciBva2xhaG9tYSBQMiBEZW50IFJlcGFpclolIiNhdXRvIHJlcGFpciBva2xhaG9tYSBwMiBkZW50IHJlcGFpcpIBEGF1dG9fcmVwYWlyX3Nob3CaASRDaGREU1VoTk1HOW5TMFZKUTBGblNVUndjMkZtYW01QlJSQUKqAXAKBy9tLzBrNGoKCC9tLzA1bXBoEAEqDyILYXV0byByZXBhaXIoADIfEAEiG4mr8Dry5E91KDfulkwZ3jfmmZzvRior_8FhOjInEAIiI2F1dG8gcmVwYWlyIG9rbGFob21hIHAyIGRlbnQgcmVwYWly4AEA-gEECGEQJw!16s%2Fg%2F11ssvjlny5?entry=ttu&g_ep=EgoyMDI1MDkxMC4wIKXMDSoASAFQAw%3D%3D"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

        <!-- About / Services -->
        <div class="card" style="margin-top:12px">
          <h2 style="margin:0 0 8px 0">About P2 Dent Repair</h2>
          <p style="margin:0;color:var(--muted)">
            Paintless dent repair specialists. Hail damage, small dings, and interior removal-free repairs â€” fast turnarounds at fair prices.
          </p>

          <div class="services" aria-hidden="false" style="margin-top:12px">
            <div class="service">Paintless Dent Repair (PDR)</div>
            <div class="service">Hail Damage Repair</div>
            <div class="service">Small Dents & Dings</div>
            <div class="service">Fleet & Insurance Work</div>
          </div>

          <div class="hours card" style="margin-top:12px;padding:12px">
            <strong>Hours</strong>
            <div style="margin-top:8px">
              <div>Monday â€” Friday: 8 AMâ€“5 PM</div>
              <div>Saturday â€” Sunday: Closed</div>
            </div>
          </div>
        </div>

        <!-- Photos -->
        <div class="card" style="margin-top:12px">
          <h3 style="margin:0 0 8px 0">Photos</h3>
          <div class="photos" id="photos">
            <!-- Replace/add images in /images/ and use names like photo1.jpg, photo2.jpg -->
            <img src="images/photo1.jpg" alt="P2 Dent Repair photo 1" onerror="this.style.opacity=0.45">
            <img src="images/photo2.jpg" alt="P2 Dent Repair photo 2" onerror="this.style.opacity=0.45">
            <img src="images/photo3.jpg" alt="P2 Dent Repair photo 3" onerror="this.style.opacity=0.45">
            <img src="images/photo4.jpg" alt="P2 Dent Repair photo 4" onerror="this.style.opacity=0.45">
            <img src="images/photo5.jpg" alt="P2 Dent Repair photo 5" onerror="this.style.opacity=0.45">
            <img src="images/photo6.jpg" alt="P2 Dent Repair photo 6" onerror="this.style.opacity=0.45">
          </div>
        </div>

        <!-- Reviews -->
        <div class="card" style="margin-top:12px">
          <h3 style="margin:0 0 8px 0">Customer Reviews</h3>
          <div class="reviews-list" id="reviews"></div>
          <button class="show-more" id="showMoreBtn" type="button" style="display:none"></button>
        </div>

      </section>

      <!-- Sidebar: Contact form, quick info -->
      <aside>
        <div class="card">
          <h3 style="margin:0 0 8px 0">Get a free estimate</h3>

          <form id="contactForm" class="contact-form" onsubmit="submitForm(event)">
            <label for="name">Name</label>
            <input id="name" name="name" placeholder="Your name" required>

            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required>

            <label for="message">Message</label>
            <textarea id="message" name="message" rows="4" placeholder="Tell us about your vehicle or dents..." required></textarea>

            <input type="hidden" name="location_id" id="location_id_input" value="YOUR_LOCATION_ID">
            <!-- Replace YOUR_LOCATION_ID above with actual Square Location ID where needed -->

            <button type="submit">Send Estimate Request</button>
            <div style="font-size:12px;color:var(--muted);margin-top:8px">
              This form uses Formspree if configured. If not configured, it will fall back to your email client.
            </div>
          </form>

          <hr style="margin:12px 0;border:none;border-top:1px solid rgba(16,24,40,0.04)">

          <div style="display:flex;gap:8px;align-items:center;justify-content:space-between">
            <div>
              <div style="font-weight:800">+1 (918) 639-5802</div>
              <div style="color:var(--muted);font-size:13px">E Louisville St, Broken Arrow, OK 74012</div>
            </div>
            <a href="tel:+19186395802" class="call" style="padding:8px 10px;font-size:14px">Call</a>
          </div>

          <div style="margin-top:12px">
            <strong>Hours</strong>
            <div style="color:var(--muted);margin-top:6px">
              Monâ€“Fri: 8 AMâ€“5 PM<br>Satâ€“Sun: Closed
            </div>
          </div>
        </div>

        <!-- Square placeholder / action -->
        <div class="card" style="margin-top:12px;text-align:center">
          <h4 style="margin:0 0 8px 0">Payments & Location</h4>
          <p style="margin:0;color:var(--muted)">Square Location ID (replace in code):</p>
          <pre style="background:#fff;padding:8px;border-radius:8px;color:#0b6b9a;font-weight:700">YOUR_LOCATION_ID</pre>
          <!-- In the script below, there's a constant you must replace: SQUARE_LOCATION_ID = 'YOUR_LOCATION_ID' -->
        </div>

      </aside>
    </main>

    <footer>
      Â© <span id="year"></span> P2 Dent Repair â€” Built with care.
    </footer>
  </div>

<script>
/* ======  REPLACE: YOUR LOCATION ID  ======
   In two places: (1) the hidden input value above and (2) below in SQUARE_LOCATION_ID
   Replace 'YOUR_LOCATION_ID' with the real Square location ID.
*/
const SQUARE_LOCATION_ID = 'YOUR_LOCATION_ID'; // <<< REPLACE THIS WITH ACTUAL SQUARE LOCATION ID

/* ====== Reviews (compressed objects) ======
   You asked for reviews to be kept exactly (main content).
   These entries are compressed (short objects). All ratings are 5.
   I included the reviews you pasted exactly. Additional placeholder reviews added to demonstrate paging.
*/
const reviews = [
  { name: "Chris Simpson", rating: 5, body: "They do great work, at a fair price." },
  { name: "Doug Buchanan", rating: 5, body: "PDR hail damage. Eric is very nice and easy to work with. Very reasonable. Cheapest i've found" },
  { name: "Rodney Woods", rating: 5, body: "Great group of guys!! And they do very good work!" },
  { name: "Cuauhtemoc Tello", rating: 5, body: "Good guys to work with, got me in and out in a few hours, dents were fixed and look good as new. Fair price for the work they completed. More" },
  { name: "Anthony Shackelford", rating: 5, body: "outstanding and amazing place" },
  { name: "NEAL HANNA", rating: 5, body: "great guys!" },
  { name: "Brandy Smith", rating: 5, body: "" },

  // additional compact/empty reviews (examples); you can replace or add more:
  { name: "Reviewer 8", rating: 5, body: "" },
  { name: "Reviewer 9", rating: 5, body: "" },
  { name: "Reviewer 10", rating: 5, body: "" },
  { name: "Reviewer 11", rating: 5, body: "" },
  { name: "Reviewer 12", rating: 5, body: "" },
  { name: "Reviewer 13", rating: 5, body: "" }
];

/* Render reviews with "6 shown initially, reveal up to 6 more per click".
   Button label shows how many more will be revealed on next click: "Show X more".
*/
const REVIEWS_PER_PAGE = 6;
let shownCount = Math.min(REVIEWS_PER_PAGE, reviews.length);

function renderReviews(){
  const container = document.getElementById('reviews');
  container.innerHTML = '';
  for(let i=0;i<shownCount;i++){
    const r = reviews[i];
    const div = document.createElement('div');
    div.className = 'review';
    div.innerHTML = `
      <div class="avatar">${r.name.split(' ').map(s=>s[0]).slice(0,2).join('')}</div>
      <div class="meta">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:8px">
          <div>
            <div class="name">${escapeHtml(r.name)}</div>
            <div class="stars" aria-hidden="true">${'â˜…'.repeat(r.rating)}</div>
          </div>
          <div style="font-size:12px;color:var(--muted)">Local Guide</div>
        </div>
        ${r.body ? `<p>${escapeHtml(r.body)}</p>` : `<p class="body-empty">No review text provided.</p>`}
      </div>
    `;
    container.appendChild(div);
  }

  // show/hide show-more button
  const btn = document.getElementById('showMoreBtn');
  if(shownCount < reviews.length){
    const remaining = reviews.length - shownCount;
    const reveal = Math.min(REVIEWS_PER_PAGE, remaining);
    btn.style.display = 'block';
    btn.textContent = `Show ${reveal} more`;
    btn.onclick = () => {
      shownCount += reveal;
      renderReviews();
      // if after revealing there are still more but less than REVIEWS_PER_PAGE, adjust button label next time automatically
    }
  } else {
    btn.style.display = 'none';
  }
}

// small html escape
function escapeHtml(str){
  if(!str) return '';
  return str.replace(/[&<>"']/g, (m) => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
}

renderReviews();

/* ===== Contact form =====
   - By default this script will attempt to submit to Formspree (you must set a valid endpoint).
   - If not set, it will open user's email client (mailto) as fallback.
   - Replace 'YOUR_FORMSPREE_ENDPOINT' in the code below with the Formspree endpoint if you use Formspree.
*/
const FORMSPREE_ENDPOINT = 'YOUR_FORMSPREE_ENDPOINT'; // e.g. https://formspree.io/f/xxxxxxxx

async function submitForm(e){
  e.preventDefault();
  const form = e.target;
  const name = form.name.value.trim();
  const email = form.email.value.trim();
  const message = form.message.value.trim();
  const location_id = document.getElementById('location_id_input').value || SQUARE_LOCATION_ID;

  if(!name || !email || !message){
    alert('Please fill the form completely.');
    return;
  }

  // If you provided a real Formspree endpoint, this will POST JSON to it.
  if(FORMSPREE_ENDPOINT && !FORMSPREE_ENDPOINT.includes('YOUR_FORMSPREE_ENDPOINT')){
    try{
      const res = await fetch(FORMSPREE_ENDPOINT, {
        method:'POST',
        headers:{'Content-Type':'application/json','Accept':'application/json'},
        body: JSON.stringify({name,email,message,location_id,source:"website"})
      });
      if(res.ok){
        alert('Thanks â€” your request was sent. We will contact you shortly.');
        form.reset();
      } else {
        alert('There was an issue sending the form. Email fallback will open.');
        openMailClient(name,email,message);
      }
    }catch(err){
      console.error(err);
      alert('Network error. Email fallback will open.');
      openMailClient(name,email,message);
    }
    return;
  }

  // Fallback: open user's email client
  openMailClient(name,email,message);
}

function openMailClient(name,email,message){
  const to = encodeURIComponent('p2dentrepair@example.com'); // replace with real business email if you want
  const subject = encodeURIComponent('Estimate Request from Website');
  const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}\n\nLocation ID: ${SQUARE_LOCATION_ID}`);
  window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
}

/* Small utility: set current year */
document.getElementById('year').textContent = new Date().getFullYear();

/* OPTIONAL: Example function to show Square location id usage (replace YOUR_LOCATION_ID above)
   If you plan to integrate Square Booking / Payments client-side, use SQUARE_LOCATION_ID here.
*/
console.log('Square Location ID in code (replace in file):', SQUARE_LOCATION_ID);

</script>
</body>
</html>
